<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Scientia Potestas Est</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://www.ashwinnarayan.com/blog/js/jquery.min.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/bootstrap.min.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/header.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/toc.js"></script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <link href="http://www.ashwinnarayan.com/blog/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/theme.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/syntax.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  

  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.ashwinnarayan.com/blog/">Scientia Potestas Est</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
	  <li><a href="http://www.ashwinnarayan.com">Ashwin</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/">/home</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/archive.html">/archive</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/tags.html">/tags</a></li>
          <!--<li><a href="http://www.ashwinnarayan.com/blog/about.html">/about</a></li>-->
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="http://www.ashwinnarayan.com/blog/2014/07/inverse-kinematics-for-2dof-arm">Inverse Kinematics for 2DOF Arm</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <!--<i class="fa fa-calendar"></i>-->
		  Posted on:
                  <time>11 Jul 2014</time>
                </div>
                <ul>
		  <li>Tags: </li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/robotics">robotics</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/inverse kinematics">inverse kinematics</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/robotic arm">robotic arm</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/technical">technical</a></li>
                  
                </ul>
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: justify;">When I first came across the problem of inverse kinematics I thought - quite naively - that it would be a simple matter to find a solution to the problem because the forward kinematics problem was so simple to solve. I decided to start out with a 2 link arm and see if I could work out the solution on my own from scratch without having any initial knowledge about inverse kinematics. After filling pages and pages with calculations that didn't quite seem to be going anywhere I realized why it was such a difficult problem.&nbsp;</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Of course a 2 link arm had a complete close form solution. After a bit of online research I found the solution. However, the solution for arms with more than 2 degrees of freedom turns out to be not so simple. It requires using numerical methods to slowly converge on a solution. This approach doesn't solve everything either. There's still the problem of choosing the right set of angles because there are often multiple solutions for a particular location of the end of the arm and some of these solutions are invalid because they are outside the range of motion of the motors at the joints of the arm.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">I've decided to slowly familiarize myself with all the different ways of finding inverse kinematics solutions. I think I'll make blogposts each with a higher degree of freedom and eventually I'll talk about the solution for the 6DOF arm. Why stop at 6? Because it turns out that in 3D space, you don't need more than 6DOF to reach a particular location/orientation. Any more than that and your arm becomes redundant. 3DOF for location in space plus 3DOF for orientation in space are all we need from an arm.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">So in this post I'll talk about the solution to 2 link robotic arm. And this arm will have hinge type joints only. I think that the technical term used is "revolute joint".<br /><br />A 2 link planar robotic arm looks like this:<br /><div class="separator" style="clear: both; text-align: center;"><a href="https://www.blogger.com/blogger.g?blogID=259194268438499485" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-0U96P1LBNho/U7-3ouDVYWI/AAAAAAAACDw/If5OrvBZtj8/s1600/2RManip.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="466" src="http://2.bp.blogspot.com/-0U96P1LBNho/U7-3ouDVYWI/AAAAAAAACDw/If5OrvBZtj8/s1600/2RManip.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"></div><br /></div><div style="text-align: justify;">The forward kinematics equations for this arrangement are simple enough.<br />$x = l_1 cos(\theta_1) + l_2 cos(\theta_1 + \theta_2)$<br />$y = l_1 sin(\theta_1) + l_2 sin(\theta_1 + \theta_2)$<br /><br />The inverse kinematics equations are quite monstrous. The full derivation is <a href="http://www.hessmer.org/uploads/RobotArm/Inverse%2520Kinematics%2520for%2520Robot%2520Arm.pdf" target="_blank">given in this fantastic pdf</a>. I'll just write down the final equations here.<br /><br />Given a value of x and y, the inverse kinematics equations are:<br />Let<br />$k_1 = l_1 + l_2 cos(\theta_2)$<br />$k_2 = l_2 sin(\theta_2)$<br />$\gamma = atan2(k_2, k_1)$<br /><br />$\theta_2 = atan2(\sqrt{1 - (\frac{x^2 + y^2 - l_1^2 - l_2^2}{2l_1 l_2})^2}, \frac{x^2 + y^2 - l_1^2 - l_2^2}{2l_1 l_2})$<br />$\theta_1 = atan2(y, x) - \gamma$<br /><br />I wrote a simple python script to calculate the values of theta. You can get the code <a href="https://github.com/RationalAsh/invkin/blob/master/invkin.py">here.</a>&nbsp;The invkin2() function calculates the values of $\theta_1$ and $\theta_2$ for an arm with 2 links.<br /><br />It was a bit difficult to test the code this way though. Can't see if I'm right or wrong in most cases. So I wrote this processing sketch to visualize the calculations so I can easily verify their correctness.<br /><br />You can view the processing simulation here:&nbsp;<a href="http://rationalash.github.io/invkin/">http://rationalash.github.io/invkin/</a><br /><br /></div><div style="text-align: justify;"><br /></div></div><script type="text/javascript">MathJax.Hub.Queue(["Typeset",MathJax.Hub]);</script></div>
                

              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/blog/2016/03/unsupervised-learning-self-organizing">Unsupervised Learning: Self Organizing Maps</a></li>
    
    <li><a href="/blog/2016/03/machine-learning-part-2-implementing">Machine Learning Part 2: Implementing Multi Class Logistic Regression</a></li>
    
    <li><a href="/blog/2016/02/my-first-build-of-bb-8">My First Build of BB-8</a></li>
    
    <li><a href="/blog/2015/11/prime-spirals-in-python">Prime Spirals in Python</a></li>
    
    <li><a href="/blog/2015/11/machine-learning-implementing-linear">Machine Learning: Implementing Linear Regression and Gradient Descent in Python</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
      <li><a href="/blog/tag/opencv">opencv</a></li>
    
      <li><a href="/blog/tag/programming">programming</a></li>
    
      <li><a href="/blog/tag/technical">technical</a></li>
    
      <li><a href="/blog/tag/free will">free will</a></li>
    
      <li><a href="/blog/tag/thoughts">thoughts</a></li>
    
      <li><a href="/blog/tag/philosophy">philosophy</a></li>
    
      <li><a href="/blog/tag/atheism">atheism</a></li>
    
      <li><a href="/blog/tag/linux">linux</a></li>
    
      <li><a href="/blog/tag/blogging">blogging</a></li>
    
      <li><a href="/blog/tag/web">web</a></li>
    
      <li><a href="/blog/tag/robotics">robotics</a></li>
    
      <li><a href="/blog/tag/inverse kinematics">inverse kinematics</a></li>
    
      <li><a href="/blog/tag/robotic arm">robotic arm</a></li>
    
      <li><a href="/blog/tag/boiling water">boiling water</a></li>
    
      <li><a href="/blog/tag/coffee">coffee</a></li>
    
      <li><a href="/blog/tag/fire">fire</a></li>
    
      <li><a href="/blog/tag/random stuff">random stuff</a></li>
    
      <li><a href="/blog/tag/electric kettle">electric kettle</a></li>
    
      <li><a href="/blog/tag/electronics">electronics</a></li>
    
      <li><a href="/blog/tag/fpga">fpga</a></li>
    
      <li><a href="/blog/tag/fun">fun</a></li>
    
      <li><a href="/blog/tag/cool stuff">cool stuff</a></li>
    
      <li><a href="/blog/tag/arduino">arduino</a></li>
    
      <li><a href="/blog/tag/productivity">productivity</a></li>
    
      <li><a href="/blog/tag/vga">vga</a></li>
    
      <li><a href="/blog/tag/python">python</a></li>
    
      <li><a href="/blog/tag/July 18">July 18</a></li>
    
      <li><a href="/blog/tag/maker faire">maker faire</a></li>
    
      <li><a href="/blog/tag/2015 at 10:24PM">2015 at 10:24PM</a></li>
    
      <li><a href="/blog/tag/math">math</a></li>
    
      <li><a href="/blog/tag/Mathematica">Mathematica</a></li>
    
      <li><a href="/blog/tag/machine learning">machine learning</a></li>
    
      <li><a href="/blog/tag/star wars">star wars</a></li>
    
  </ul>
</div>

        </div>
      </div>
    </div>
    

  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>Ashwin Narayan &copy; 2016</p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="RationalAsh on Github" href="https://github.com/RationalAsh" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on StackOverflow" href="http://stackoverflow.com/users/" target="_blank"><i class="fa fa-stack-overflow fa-2x"></i></a>
    </li>
  

  

  
    <li>
      <a title=" on Instagram" href="https://instagram.com/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on Last.fm" href="http://lastfm.com/user/" target="_blank"><i class="fa fa-lastfm fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="feed.xml RSS" href="/blog/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

	  <p><a href="https://github.com/streetturtle/jekyll-clean-dark">Jekyll Clean Dark Theme</a> by Pavel Makhov</p>
        </div>
      </div>
    </footer>
  </body>
</html>

</div>
