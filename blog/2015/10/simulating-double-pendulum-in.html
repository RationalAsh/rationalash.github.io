<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Scientia Potestas Est</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://www.ashwinnarayan.com/blog/js/jquery.min.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/bootstrap.min.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/header.js"></script>
  <script src="http://www.ashwinnarayan.com/blog/js/toc.js"></script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <link href="http://www.ashwinnarayan.com/blog/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/theme.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/syntax.css" rel="stylesheet">
  <link href="http://www.ashwinnarayan.com/blog/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  

  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.ashwinnarayan.com/blog/">Scientia Potestas Est</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="http://www.ashwinnarayan.com/blog/">/home</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/archive.html">/archive</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/tags.html">/tags</a></li>
          <li><a href="http://www.ashwinnarayan.com/blog/about.html">/about</a></li>
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="http://www.ashwinnarayan.com/blog/2015/10/simulating-double-pendulum-in">Simulating a Double Pendulum in Mathematica</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <!--<i class="fa fa-calendar"></i>-->
		  Posted on:
                  <time>15 Oct 2015</time>
                </div>
                <ul>
		  <li>Tags: </li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/robotics">robotics</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/Mathematica">Mathematica</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/technical">technical</a></li>
                  
                    <li><a href="http://www.ashwinnarayan.com/blog/tag/math">math</a></li>
                  
                </ul>
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: justify;">I've been playing around with Mathematica's Non-Linear Control Systems toolbox over the past few days and it's been brilliant! One of the first systems that I tried to simulate is the double pendulum since it's such a commonly used sample problem in non-linear controls.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">The first step is to write down the total kinetic and potential energies of the system and find the Lagrangian. Once you have that, you just need to run the Lagrangian through Mathematica's EulerEquations function and then set up a non-linear state space model using the differential equations.&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-IJGBfdq3hRA/Vh9nrBVyg8I/AAAAAAAAGh4/ssi2K1It4cY/s1600/dpend_blgopost1.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://4.bp.blogspot.com/-IJGBfdq3hRA/Vh9nrBVyg8I/AAAAAAAAGh4/ssi2K1It4cY/s640/dpend_blgopost1.PNG" width="560" /></a></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">Once you have the system model it's really simple to get the response and make a simple simulation.</div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-bvBuKzQSno0/Vh9oblK45dI/AAAAAAAAGiA/XVOhrHmf0uA/s1600/dpend_blgopost2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="228" src="http://4.bp.blogspot.com/-bvBuKzQSno0/Vh9oblK45dI/AAAAAAAAGiA/XVOhrHmf0uA/s640/dpend_blgopost2.PNG" width="640" /></a></div><div style="text-align: justify;"><br />And out pops a wonderful demonstration of chaos! Here are are three simulations with slightly different initial conditions showing diverging trajectories.&nbsp;</div><div style="text-align: justify;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-rADFQApLTiM/Vh9oqQ7ut2I/AAAAAAAAGiI/gIeG6HlQbJM/s1600/dpend_sim.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://4.bp.blogspot.com/-rADFQApLTiM/Vh9oqQ7ut2I/AAAAAAAAGiI/gIeG6HlQbJM/s320/dpend_sim.gif" width="266" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Initial conditions: {160, -160}</td></tr></tbody></table><div style="text-align: justify;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-1eUjsWkxzAs/ViB1uvAOUbI/AAAAAAAAGjE/nb0J_JoykZo/s1600/dpend_sim2.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://1.bp.blogspot.com/-1eUjsWkxzAs/ViB1uvAOUbI/AAAAAAAAGjE/nb0J_JoykZo/s320/dpend_sim2.gif" width="266" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Initial Conditions: {161, -160}</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-K9Vvt701QBg/ViC89F058BI/AAAAAAAAGjY/9PKmVkL_bvk/s1600/dpend_sim2.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://4.bp.blogspot.com/-K9Vvt701QBg/ViC89F058BI/AAAAAAAAGjY/9PKmVkL_bvk/s320/dpend_sim2.gif" width="266" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Initial Conditions: {161,-161}</td></tr></tbody></table><br /><br /></div><div style="text-align: justify;">The next thing I tested was whether I could make a simple controller to stabilize this double pendulum pointing straight up. I went with a standard Linear Quadratic regulator. In this simulation there is only one actuator at the elbow joint. So this is also an example of an underactuated robotic system. Works great! :D</div><div style="text-align: justify;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-hGoCN1Jex2c/Vh9pJxvo-yI/AAAAAAAAGiU/2BZg75LI5EI/s1600/dpend_stable.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://4.bp.blogspot.com/-hGoCN1Jex2c/Vh9pJxvo-yI/AAAAAAAAGiU/2BZg75LI5EI/s320/dpend_stable.gif" width="266" /></a></div><div style="text-align: justify;"><br /></div></div>
                

              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/blog/2016/03/unsupervised-learning-self-organizing">Unsupervised Learning: Self Organizing Maps</a></li>
    
    <li><a href="/blog/2016/03/machine-learning-part-2-implementing">Machine Learning Part 2: Implementing Multi Class Logistic Regression</a></li>
    
    <li><a href="/blog/2016/02/my-first-build-of-bb-8">My First Build of BB-8</a></li>
    
    <li><a href="/blog/2015/11/prime-spirals-in-python">Prime Spirals in Python</a></li>
    
    <li><a href="/blog/2015/11/machine-learning-implementing-linear">Machine Learning: Implementing Linear Regression and Gradient Descent in Python</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
      <li><a href="/blog/tag/robotics">robotics</a></li>
    
      <li><a href="/blog/tag/Mathematica">Mathematica</a></li>
    
      <li><a href="/blog/tag/technical">technical</a></li>
    
      <li><a href="/blog/tag/math">math</a></li>
    
      <li><a href="/blog/tag/machine learning">machine learning</a></li>
    
      <li><a href="/blog/tag/python">python</a></li>
    
      <li><a href="/blog/tag/fun">fun</a></li>
    
      <li><a href="/blog/tag/cool stuff">cool stuff</a></li>
    
      <li><a href="/blog/tag/star wars">star wars</a></li>
    
  </ul>
</div>

        </div>
      </div>
    </div>
    

  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>Ashwin Narayan &copy; 2016</p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="RationalAsh on Github" href="https://github.com/RationalAsh" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on StackOverflow" href="http://stackoverflow.com/users/" target="_blank"><i class="fa fa-stack-overflow fa-2x"></i></a>
    </li>
  

  

  
    <li>
      <a title=" on Instagram" href="https://instagram.com/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on Last.fm" href="http://lastfm.com/user/" target="_blank"><i class="fa fa-lastfm fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="feed.xml RSS" href="/blog/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

	  <p><a href="https://github.com/streetturtle/jekyll-clean-dark">Jekyll Clean Dark Theme</a> by Pavel Makhov</p>
        </div>
      </div>
    </footer>
  </body>
</html>

</div>
